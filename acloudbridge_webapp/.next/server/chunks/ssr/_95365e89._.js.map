{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/aCloudBridge_New/acloudbridge_webapp/src/app/changepassword/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport Layout from '@/app/layout';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst ChangePasswordPage = () => {\r\n    const [currentPassword, setCurrentPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [confirmNewPassword, setConfirmNewPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const router = useRouter();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (newPassword !== confirmNewPassword) {\r\n            setMessage('New passwords do not match.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n\r\n            const response = await fetch('http://localhost:5000/changepassword', { // CORRECTED ENDPOINT\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    currentPassword,\r\n                    newPassword,\r\n                }),\r\n            });\r\n\r\n            if (response.headers.get('content-type')?.includes('application/json')) {\r\n                const data = await response.json();\r\n\r\n                if (response.ok) {\r\n                    setMessage('Password updated successfully.');\r\n                    setCurrentPassword('');\r\n                    setNewPassword('');\r\n                    setConfirmNewPassword('');\r\n                    router.push('/account');\r\n                } else {\r\n                    setMessage(data.message || 'Failed to update password.');\r\n                }\r\n            } else {\r\n                setMessage('An unexpected error occurred. Please try again.');\r\n                console.error('API returned non-JSON response.');\r\n            }\r\n\r\n        } catch (error) {\r\n            setMessage('An error occurred. Please try again.');\r\n            console.error('Error updating password:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n                <div className=\"bg-blue-900 rounded-lg shadow-lg p-8 w-96\">\r\n                    <h2 className=\"text-white text-2xl font-semibold mb-6\">Change Password</h2>\r\n\r\n                    {message && <p className=\"text-red-500 mb-4\">{message}</p>}\r\n\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"mb-4\">\r\n                            <input\r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-black text-white\"\r\n                                id=\"currentPassword\"\r\n                                type=\"password\"\r\n                                placeholder=\"Current Password\"\r\n                                value={currentPassword}\r\n                                onChange={(e) => setCurrentPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-4\">\r\n                            <input\r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-black text-white\"\r\n                                id=\"newPassword\"\r\n                                type=\"password\"\r\n                                placeholder=\"New Password\"\r\n                                value={newPassword}\r\n                                onChange={(e) => setNewPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"mb-6\">\r\n                            <input\r\n                                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-black text-white\"\r\n                                id=\"confirmNewPassword\"\r\n                                type=\"password\"\r\n                                placeholder=\"Confirm New Password\"\r\n                                value={confirmNewPassword}\r\n                                onChange={(e) => setConfirmNewPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <button\r\n                                className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                                type=\"submit\"\r\n                            >\r\n                                Change Password\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n    );\r\n};\r\n\r\nexport default ChangePasswordPage;"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAMA,MAAM,qBAAqB;IACvB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAEhB,IAAI,gBAAgB,oBAAoB;YACpC,WAAW;YACX;QACJ;QAEA,IAAI;YACA,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,WAAW,MAAM,MAAM,wCAAwC;gBACjE,QAAQ;gBACR,SAAS;oBACL,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBACpC;gBACA,MAAM,KAAK,SAAS,CAAC;oBACjB;oBACA;gBACJ;YACJ;YAEA,IAAI,SAAS,OAAO,CAAC,GAAG,CAAC,iBAAiB,SAAS,qBAAqB;gBACpE,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,IAAI,SAAS,EAAE,EAAE;oBACb,WAAW;oBACX,mBAAmB;oBACnB,eAAe;oBACf,sBAAsB;oBACtB,OAAO,IAAI,CAAC;gBAChB,OAAO;oBACH,WAAW,KAAK,OAAO,IAAI;gBAC/B;YACJ,OAAO;gBACH,WAAW;gBACX,QAAQ,KAAK,CAAC;YAClB;QAEJ,EAAE,OAAO,OAAO;YACZ,WAAW;YACX,QAAQ,KAAK,CAAC,4BAA4B;QAC9C;IACJ;IAEA,qBAEQ,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAAyC;;;;;;gBAEtD,yBAAW,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;8BAE9C,8OAAC;oBAAK,UAAU;;sCACZ,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,WAAU;gCACV,IAAG;gCACH,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;sCAG1D,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,WAAU;gCACV,IAAG;gCACH,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;sCAGtD,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,WAAU;gCACV,IAAG;gCACH,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,sBAAsB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;sCAG7D,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,WAAU;gCACV,MAAK;0CACR;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS7B;uCAEe","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/aCloudBridge_New/acloudbridge_webapp/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/aCloudBridge_New/acloudbridge_webapp/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}