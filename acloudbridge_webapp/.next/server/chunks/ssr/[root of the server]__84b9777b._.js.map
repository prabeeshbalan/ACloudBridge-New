{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/acloudbridge_webapp/src/components/layout.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-[#065A8B]\">\r\n      <nav className=\"p-4 flex items-center justify-between bg-[#0b5c89]\">\r\n        <div className=\"flex items-center\">\r\n          <Link href=\"/\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            aCloudBridge\r\n          </Link>\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link href=\"/\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Home\r\n          </Link>\r\n          <Link href=\"/contact\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            About Me\r\n          </Link>\r\n          <Link href=\"/signup\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Register\r\n          </Link>\r\n          <Link href=\"/login\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Login\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n      <main className=\"flex-grow\">{children}</main>\r\n      <div className=\"text-center py-4\">\r\n        <p className=\"text-sm text-white\">Copyright Â© 2025 A Cloud Bridge - All Rights Reserved.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;"],"names":[],"mappings":";;;;AACA;;;AAMA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE;IACjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAiF;;;;;;;;;;;kCAI5G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAiF;;;;;;0CAG1G,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAiF;;;;;;0CAGjH,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAiF;;;;;;0CAGhH,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAiF;;;;;;;;;;;;;;;;;;0BAKnH,8OAAC;gBAAK,WAAU;0BAAa;;;;;;0BAC7B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAI1C;uCAEe","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/acloudbridge_webapp/src/app/account/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport Layout from '@/components/layout';\r\nimport { FaUser, FaLock } from 'react-icons/fa';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface User {\r\n    name: string;\r\n    email: string;\r\n    firstName?: string;\r\n    lastName?: string;\r\n}\r\n\r\nexport default function AccountPage() {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n    const router = useRouter();\r\n\r\n    const toggleDropdown = () => {\r\n        setIsDropdownOpen(!isDropdownOpen);\r\n    };\r\n\r\n    useEffect(() => {\r\n        async function fetchUserData() {\r\n            const token = localStorage.getItem('token');\r\n            console.log('Token:', token);\r\n            if (token) {\r\n                try {\r\n                    const response = await fetch('http://localhost:5000/user', {\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    });\r\n                    if (response.ok) {\r\n                        const userData = await response.json();\r\n                        console.log('User data:', userData);\r\n                        console.log('User Name:', userData.name);\r\n                        console.log('User First Name:', userData.firstName);\r\n                        console.log('User Last Name:', userData.lastName);\r\n\r\n                        if (userData.firstName && userData.lastName) {\r\n                            userData.name = `${userData.firstName} ${userData.lastName}`;\r\n                        }\r\n\r\n                        setUser(userData);\r\n                    } else {\r\n                        console.error('Failed to fetch user data');\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error fetching user data:', error);\r\n                }\r\n            }\r\n        }\r\n\r\n        fetchUserData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        function handleClickOutside(event: MouseEvent) {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsDropdownOpen(false);\r\n            }\r\n        }\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, [dropdownRef]);\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token');\r\n        router.push('/login');\r\n    };\r\n\r\n    const handleDeactivate = async () => {\r\n        if (window.confirm('Are you sure you want to deactivate your account?')) {\r\n            const token = localStorage.getItem('token');\r\n            if (token) {\r\n                try {\r\n                    const response = await fetch('http://localhost:5000/deactivate', {\r\n                        method: 'DELETE',\r\n                        headers: {\r\n                            Authorization: `Bearer ${token}`,\r\n                        },\r\n                    });\r\n\r\n                    if (response.ok) {\r\n                        localStorage.removeItem('token');\r\n                        router.push('/login');\r\n                        alert('Account deactivated successfully.');\r\n                    } else {\r\n                        alert('Failed to deactivate account.');\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Error deactivating account:', error);\r\n                    alert('An error occurred while deactivating the account.');\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <div className=\"min-h-screen flex flex-col items-center justify-start bg-[#e9dccb] text-white p-8 relative\">\r\n                <div className=\"absolute top-4 right-4 flex items-center space-x-4\">\r\n                    <FaUser className=\"text-[#3F6565] text-lg\" />\r\n                    <div className=\"relative\">\r\n                        <button className=\"text-[#3F6565] font-semibold\" onClick={toggleDropdown}>\r\n                            My Account\r\n                        </button>\r\n                        {isDropdownOpen && (\r\n                            <div\r\n                                ref={dropdownRef}\r\n                                className=\"absolute right-0 mt-5 w-60 bg-white rounded-md shadow-lg z-10\"\r\n                            >\r\n                                {user && (\r\n                                    <div className=\"p-4 border-b flex items-center\">\r\n                                        <FaUserCircle className=\"mr-2 text-5xl text-gray-700\" />\r\n                                        <div className=\"flex flex-col\">\r\n                                            <div className=\"font-semibold text-gray-700\">{user.name}</div>\r\n                                            <div className=\"text-sm text-gray-600\">{user.email}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                                <a href=\"/profile\" className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\r\n                                    Profile\r\n                                </a>\r\n                                <button\r\n                                    onClick={handleDeactivate}\r\n                                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left\"\r\n                                >\r\n                                    Deactivate Account\r\n                                </button>\r\n                                <a\r\n                                    href=\"/changepassword\"\r\n                                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                                >\r\n                                    Change Password\r\n                                </a>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <FaLock className=\"text-[#3F6565] text-lg\" />\r\n                    <button className=\"text-[#3F6565] font-semibold\" onClick={handleLogout}>Logout</button>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}