{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/acloudbridge_webapp/src/components/layout.tsx"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-[#065A8B]\">\r\n      <nav className=\"p-4 flex items-center justify-between bg-[#0b5c89]\">\r\n        <div className=\"flex items-center\">\r\n          <Link href=\"/\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            aCloudBridge\r\n          </Link>\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Link href=\"/\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Home\r\n          </Link>\r\n          <Link href=\"/contact\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            About Me\r\n          </Link>\r\n          <Link href=\"/signup\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Register\r\n          </Link>\r\n          <Link href=\"/login\" className=\"bg-[#3395E1] text-[#065A8B] font-bold py-2 px-4 rounded-full flex items-center\">\r\n            Login\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n      <main className=\"flex-grow\">{children}</main>\r\n      <div className=\"text-center py-4\">\r\n        <p className=\"text-sm text-white\">Copyright Â© 2025 A Cloud Bridge - All Rights Reserved.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;"],"names":[],"mappings":";;;;AACA;;;AAMA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE;IACjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAiF;;;;;;;;;;;kCAI5G,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAiF;;;;;;0CAG1G,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAW,WAAU;0CAAiF;;;;;;0CAGjH,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAiF;;;;;;0CAGhH,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAiF;;;;;;;;;;;;;;;;;;0BAKnH,8OAAC;gBAAK,WAAU;0BAAa;;;;;;0BAC7B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAqB;;;;;;;;;;;;;;;;;AAI1C;uCAEe","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file://e%3A/DevOps/Project/acloudbridge_webapp/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Layout from '@/components/layout';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { useRouter } from 'next/navigation'; // Import useRouter\r\n\r\ninterface User {\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n}\r\n\r\nconst ProfilePage = () => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedUser, setEditedUser] = useState<User | null>(null);\r\n  const router = useRouter(); // Initialize useRouter\r\n\r\n  useEffect(() => {\r\n    async function fetchUserData() {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        try {\r\n          const response = await fetch('http://localhost:5000/user', {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          if (response.ok) {\r\n            const userData = await response.json();\r\n            setUser(userData);\r\n            setEditedUser(userData);\r\n          } else {\r\n            console.error('Failed to fetch user data');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching user data:', error);\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token && editedUser) {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/user', {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(editedUser),\r\n        });\r\n        if (response.ok) {\r\n          setUser(editedUser);\r\n          setIsEditing(false);\r\n          alert('Profile updated successfully!');\r\n          router.push('/account'); // Redirect to account page after save\r\n        } else {\r\n          console.error('Failed to update user data');\r\n          alert('Failed to update profile.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error updating user data:', error);\r\n        alert('An error occurred while updating the profile.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (editedUser) {\r\n      setEditedUser({\r\n        ...editedUser,\r\n        [e.target.name]: e.target.value,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleExit = () => {\r\n    router.push('/account'); // Redirect to account page\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Layout>\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n          <p>Loading profile...</p>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"min-h-screen flex flex-col items-center p-8\">\r\n        <h1 className=\"text-2xl font-bold mb-4\">Profile</h1>\r\n        <div className=\"bg-white rounded-lg shadow p-6 w-full max-w-md flex flex-col items-center\">\r\n          <div className=\"flex justify-between w-full\">\r\n            <div className=\"flex justify-center w-full\">\r\n              <FaUserCircle className=\"text-7xl text-gray-700 mt-2\" />\r\n            </div>\r\n            {user && !isEditing && (\r\n              <button\r\n                onClick={handleEdit}\r\n                className=\"bg-green-500 text-white p-2 text-sm rounded ml-2 w-32 h-10\"\r\n              >\r\n                Edit Profile\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div className=\"w-full\">\r\n            {isEditing ? (\r\n              <>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">First Name:</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"first_name\"\r\n                    value={editedUser?.first_name || ''}\r\n                    onChange={handleInputChange}\r\n                    className=\"border p-1\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">Last Name:</strong>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"last_name\"\r\n                    value={editedUser?.last_name || ''}\r\n                    onChange={handleInputChange}\r\n                    className=\"border p-1\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">Email:</strong>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={editedUser?.email || ''}\r\n                    onChange={handleInputChange}\r\n                    className=\"border p-1\"\r\n                  />\r\n                </div>\r\n                <button onClick={handleSave} className=\"bg-blue-500 text-white p-2 rounded\">\r\n                  Save\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">First Name:</strong>\r\n                  <p className=\"text-gray-900\">{user.first_name || 'N/A'}</p>\r\n                </div>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">Last Name:</strong>\r\n                  <p className=\"text-gray-900\">{user.last_name || 'N/A'}</p>\r\n                </div>\r\n                <div className=\"flex mb-2\">\r\n                  <strong className=\"text-gray-700 w-32\">Email:</strong>\r\n                  <p className=\"text-gray-900\">{user.email || 'N/A'}</p>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n          <button onClick={handleExit} className=\"bg-gray-500 text-white p-2 rounded mt-4\">\r\n            Exit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;"],"names":[],"mappings":"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","debugId":null}}]
}